{"version":3,"sources":["node_modules/flat-embed/dist/embed.min.js"],"names":[],"mappings":"AAAA;AACA,eAAe,0IAA0I,mBAAmB,iBAAiB,aAAa,cAAc,0OAA0O,0BAA0B,gCAAgC,SAAS,SAAS,cAAc,yCAAyC,0BAA0B,qBAAqB,SAAS,gBAAgB,4CAA4C,0DAA0D,YAAY,gBAAgB,8CAA8C,2MAA2M,kBAAkB,gKAAgK,OAAO,uBAAuB,gDAAgD,cAAc,8CAA8C,yGAAyG,8EAA8E,gBAAgB,aAAa,oGAAoG,iBAAiB,8EAA8E,cAAc,gBAAgB,YAAY,WAAW,KAAK,WAAW,+GAA+G,uBAAuB,wCAAwC,gBAAgB,cAAc,8CAA8C,uBAAuB,MAAM,aAAa,qCAAqC,6DAA6D,mBAAmB,GAAG,EAAE,yCAAyC,2HAA2H,EAAE,2CAA2C,oCAAoC,MAAM,wCAAwC,yCAAyC,+BAA+B,6CAA6C,EAAE,gCAAgC,sEAAsE,EAAE,8CAA8C,sCAAsC,sDAAsD,EAAE,qCAAqC,WAAW,wHAAwH,6BAA6B,GAAG,KAAK,+BAA+B,kBAAkB,kBAAkB,uEAAuE,iDAAiD,0FAA0F,8BAA8B,8CAA8C,+BAA+B,oCAAoC,gBAAgB,qEAAqE,iBAAiB,EAAE,mDAAmD,iBAAiB,6BAA6B,qCAAqC,EAAE,6BAA6B,uEAAuE,iCAAiC,iCAAiC,yCAAyC,EAAE,GAAG,EAAE,6BAA6B,gFAAgF,kFAAkF,0FAA0F,GAAG,EAAE,8BAA8B,gFAAgF,+FAA+F,GAAG,EAAE,wCAAwC,kCAAkC,mBAAmB,GAAG,EAAE,qCAAqC,oCAAoC,EAAE,iCAAiC,gCAAgC,EAAE,+BAA+B,6BAA6B,EAAE,oCAAoC,WAAW,iCAAiC,gCAAgC,yEAAyE,yCAAyC,sDAAsD,WAAW,GAAG,EAAE,+BAA+B,WAAW,iCAAiC,gCAAgC,yEAAyE,oCAAoC,iDAAiD,WAAW,GAAG,EAAE,4CAA4C,0CAA0C,EAAE,sCAAsC,oCAAoC,EAAE,wCAAwC,uCAAuC,EAAE,mCAAmC,kCAAkC,EAAE,4BAA4B,0BAA0B,EAAE,6BAA6B,2BAA2B,EAAE,4BAA4B,0BAA0B,EAAE,4BAA4B,0BAA0B,EAAE,6BAA6B,2BAA2B,EAAE,+BAA+B,6BAA6B,EAAE,gCAAgC,+BAA+B,EAAE,mCAAmC,iCAAiC,EAAE,oCAAoC,mCAAmC,EAAE,kCAAkC,gCAAgC,EAAE,yCAAyC,uCAAuC,EAAE,0CAA0C,yCAAyC,EAAE,6BAA6B,4BAA4B,EAAE,uCAAuC,iCAAiC,eAAe,GAAG,SAAS,GAAG,E","file":"scripts.bundle.js","sourcesContent":["/*! flat-embed v0.9.0 | (c) 2017 Tutteo Ltd. (Flat) | Apache-2.0 License | https://github.com/FlatIO/embed-client */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e.Flat=e.Flat||{},e.Flat.Embed=t())}(this,function(){\"use strict\";function e(e){if(window.jQuery&&e instanceof window.jQuery&&(e=e[0]),\"string\"==typeof e&&(e=document.getElementById(e)),!(e instanceof window.HTMLElement))throw new TypeError(\"The first parameter must be an existing DOM element or an identifier.\");if(\"IFRAME\"!==e.nodeName){var t=e.querySelector(\"iframe\");t&&(e=t)}return e}function t(e){var t=e.baseUrl||\"https://flat.io/embed\";t+=\"/\"+(e.score||\"blank\");var n=Object.assign({jsapi:!0},e.embedParams);return t+\"?\"+Object.keys(n).map(function(e){return encodeURIComponent(e)+\"=\"+encodeURIComponent(n[e])}).join(\"&\")}function n(e,n){var r=t(n),o=document.createElement(\"iframe\");return o.setAttribute(\"src\",r),o.setAttribute(\"width\",n.width||\"100%\"),o.setAttribute(\"height\",n.height||\"100%\"),o.setAttribute(\"allowfullscreen\",!0),o.setAttribute(\"frameborder\",\"0\"),e.appendChild(o),o}function r(e,t,n){if(!e.element.contentWindow||!e.element.contentWindow.postMessage)throw new Error(\"No `contentWindow` or `contentWindow.postMessage` avaialble on the element\");var r={method:t,parameters:n};e.element.contentWindow.postMessage(r,e.origin)}function o(e){return\"string\"==typeof e&&(e=JSON.parse(e)),e}if(void 0===window.postMessage)throw new Error(\"The Flat Embed JS API is not supported in this browser\");var i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},s=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){return s(this,e),this.embed=t,this.promises={},this.eventCallbacks={},this}return a(e,[{key:\"pushCall\",value:function(e,t,n){this.promises[e]=this.promises[e]||[],this.promises[e].push({resolve:t,reject:n})}},{key:\"subscribeEvent\",value:function(e,t){return this.eventCallbacks[e]=this.eventCallbacks[e]||[],this.eventCallbacks[e].push(t),1===this.eventCallbacks[e].length}},{key:\"unsubscribeEvent\",value:function(e,t){if(!this.eventCallbacks[e])return!1;if(t){var n=this.eventCallbacks[e].indexOf(t);n>=0&&this.eventCallbacks[e].splice(n,1)}else this.eventCallbacks[e]=[];return!t||0===this.eventCallbacks[e].length}},{key:\"process\",value:function(e){e.method?this.processMethodResponse(e):e.event&&this.processEvent(e)}},{key:\"processMethodResponse\",value:function(e){var t=this.promises[e.method].shift();t&&(e.error?t.reject(e.error):t.resolve(e.response))}},{key:\"processEvent\",value:function(e){var t=this;this.eventCallbacks[e.event]&&0!==this.eventCallbacks[e.event].length&&this.eventCallbacks[e.event].forEach(function(n){n.call(t.embed,e.parameters)})}}]),e}(),l=new WeakMap,c=new WeakMap;return function(){function Embed(t){var i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s(this,Embed),t=e(t),l.has(t))return l.get(t);\"IFRAME\"!==t.nodeName&&(t=n(t,a)),this.origin=\"*\",this.element=t,this.embedCallback=new u;var f=new Promise(function(e){window.addEventListener(\"message\",function(n){if(t.contentWindow===n.source){\"*\"===i.origin&&(i.origin=n.origin);var r=o(n.data);\"ready\"!==r.event&&\"ping\"!==r.method?i.embedCallback.process(r):e()}},!1),r(i,\"ping\")});return l.set(this.element,this),c.set(this,f),this}return a(Embed,[{key:\"ready\",value:function(){return Promise.resolve(c.get(this))}},{key:\"call\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(o,i){return t.ready().then(function(){t.embedCallback.pushCall(e,o,i),r(t,e,n)})})}},{key:\"on\",value:function(e,t){if(\"string\"!=typeof e)throw new TypeError(\"An event name (string) is required\");if(\"function\"!=typeof t)throw new TypeError(\"An callback (function) is required\");this.embedCallback.subscribeEvent(e,t)&&this.call(\"addEventListener\",e).catch(function(){})}},{key:\"off\",value:function(e,t){if(\"string\"!=typeof e)throw new TypeError(\"An event name (string) is required\");this.embedCallback.unsubscribeEvent(e,t)&&this.call(\"removeEventListener\",e).catch(function(){})}},{key:\"loadFlatScore\",value:function(e,t){return this.call(\"loadFlatScore\",{score:e,revision:t})}},{key:\"loadMusicXML\",value:function(e){return this.call(\"loadMusicXML\",e)}},{key:\"loadJSON\",value:function(e){return this.call(\"loadJSON\",e)}},{key:\"getJSON\",value:function(){return this.call(\"getJSON\")}},{key:\"getMusicXML\",value:function(e){var t=this;return new Promise(function(n,r){if(\"object\"!==(void 0===(e=e||{})?\"undefined\":i(e)))return r(new TypeError(\"Options must be an object\"));t.call(\"getMusicXML\",e).then(function(e){return n(\"string\"==typeof e?e:new Uint8Array(e.data))}).catch(r)})}},{key:\"getPNG\",value:function(e){var t=this;return new Promise(function(n,r){if(\"object\"!==(void 0===(e=e||{})?\"undefined\":i(e)))return r(new TypeError(\"Options must be an object\"));t.call(\"getPNG\",e).then(function(e){return n(\"string\"==typeof e?e:new Uint8Array(e))}).catch(r)})}},{key:\"getFlatScoreMetadata\",value:function(){return this.call(\"getFlatScoreMetadata\")}},{key:\"getEmbedConfig\",value:function(){return this.call(\"getEmbedConfig\")}},{key:\"setEditorConfig\",value:function(e){return this.call(\"setEditorConfig\",e)}},{key:\"fullscreen\",value:function(e){return this.call(\"fullscreen\",e)}},{key:\"play\",value:function(){return this.call(\"play\")}},{key:\"pause\",value:function(){return this.call(\"pause\")}},{key:\"stop\",value:function(){return this.call(\"stop\")}},{key:\"mute\",value:function(){return this.call(\"mute\")}},{key:\"print\",value:function(){return this.call(\"print\")}},{key:\"getZoom\",value:function(){return this.call(\"getZoom\")}},{key:\"setZoom\",value:function(e){return this.call(\"setZoom\",e)}},{key:\"getAutoZoom\",value:function(){return this.call(\"getAutoZoom\")}},{key:\"setAutoZoom\",value:function(e){return this.call(\"setAutoZoom\",e)}},{key:\"focusScore\",value:function(){return this.call(\"focusScore\")}},{key:\"getCursorPosition\",value:function(){return this.call(\"getCursorPosition\")}},{key:\"setCursorPosition\",value:function(e){return this.call(\"setCursorPosition\",e)}},{key:\"edit\",value:function(e){return this.call(\"edit\",e)}},{key:\"setNoteColor\",value:function(e,t){return this.call(\"setNoteColor\",{note:e,color:t})}}]),Embed}()});\n\n\n// WEBPACK FOOTER //\n// node_modules/flat-embed/dist/embed.min.js"],"sourceRoot":"webpack:///"}